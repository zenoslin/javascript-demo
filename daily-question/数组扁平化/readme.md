# 数组扁平化 （数组降维）

> MDN：flat() 方法会按照一个可指定的深度递归遍历数组，并将所有元素与遍历到的子数组中的元素合并为一个新数组返回

``` javascript
const test = ["a", ["b", "c"], ["d", ["e", ["f"]], "g"]]

// flat不传参数时，默认扁平化一层
test.flat()
// ["a", "b", "c", "d", ["e", ["f"]], "g"]

// flat传入一个整数参数，整数即扁平化的层数
test.flat(2)
// ["a", "b", "c", "d", "e", ["f"], "g"]

// Infinity 关键字作为参数时，无论多少层嵌套，都会转为一维数组
test.flat(Infinity)
// ["a", "b", "c", "d", "e", "f", "g"]

// 传入 <=0 的整数将返回原数组，不扁平化
test.flat(0)
test.flat(-1)
// ["a", ["b", "c"], ["d", ["e", ["f"]], "g"]]

// 如果原数组有空位，flat()方法会跳过空位。
["a", "b", "c", "d",,].flat()
// ["a", "b", "c", "d"]
```

Array.prototype.flat() 总结：

- Array.prototype.flat() 用于将嵌套的数组扁平化，成为一维数组。该方法返回一个新的数组，对原数据没有影响
- 不传参数时，默认扁平化一层；传入一个整数时，这个整数代码想要扁平化的层数
- 传入 <=0 的整数将不进行扁平化，返回原数组
- Infinity 关键字作为参数时，无论是多少层嵌套，都会转为一维数组
另外，注意：如果原数组有空位，Array.prototype.flat() 会跳过空位